import{r,j as t,a as p,F as ne}from"./jsx-runtime-7cf68bf7.js";import{a as c,S,C as H,f as L,d as x,b as d,i as Ae,s as $e,L as O,c as ie,m as ee,e as ce,I as qe,g as me,h as je,u as K,j as U,k as Fe,l as ze,n as we,A as re,o as Se,M as ue,p as He,q as Je,r as Ke,t as Qe,v as Ze,w as et,x as Te,y as Ue,z as Be,B as tt,D as Ge,E as nt,F as it,G as Me,H as st,J as at,K as ot,N as Ee,O as ge,Q as rt,R as lt,T as ct,U as ut,V as dt,W as mt,X as pt,Y as ft,Z as ht,_ as gt,a0 as vt,a1 as Nt}from"./PhoneProvider-d476cfa1.js";import{i as St,g as Ct}from"./color-e1a4c391.js";import{C as bt,b as Et}from"./index.esm-3a7b91c6.js";import{Downloads as We}from"./AppStore-d253a9d4.js";import{P as It}from"./Pin-ef2077bf.js";import{r as De}from"./number-28525126.js";const yt=(i,e,a)=>{const l=e-i;return((a-i)%l+l)%l+i};function At(...i){const e=r.useRef(0),[a,l]=r.useState(i[e.current]),o=r.useCallback(m=>{e.current=typeof m!="number"?yt(0,i.length,e.current+1):m,l(i[e.current])},[i.length,...i]);return[a,o]}const Tt="modulepreload",_t=function(i){return"/ui/dist/"+i},Re={},D=function(e,a,l){if(!a||a.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(a.map(m=>{if(m=_t(m),m in Re)return;Re[m]=!0;const n=m.endsWith(".css"),u=n?'[rel="stylesheet"]':"";if(!!l)for(let f=o.length-1;f>=0;f--){const b=o[f];if(b.href===m&&(!n||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${u}`))return;const s=document.createElement("link");if(s.rel=n?"stylesheet":Tt,n||(s.as="script",s.crossOrigin=""),s.href=m,document.head.appendChild(s),n)return new Promise((f,b)=>{s.addEventListener("load",f),s.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})})).then(()=>e())},Ie={HomeScreen:r.lazy(()=>D(()=>Promise.resolve().then(()=>$t),void 0)),Setup:r.lazy(()=>D(()=>import("./Setup-f69398d1.js"),["assets/Setup-f69398d1.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Check-f7d9fe79.js","assets/Check-a34d2706.css","assets/Numpad-97cba5b0.js","assets/Numpad-3c37f635.css","assets/Pin-ef2077bf.js","assets/Pin-d8350414.css","assets/Setup-365cf630.css"])),Phone:r.lazy(()=>D(()=>import("./Phone-ee9af0aa.js"),["assets/Phone-ee9af0aa.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/color-e1a4c391.js","assets/index.esm-3a7b91c6.js","assets/AppStore-d253a9d4.js","assets/AppStore-e7923db4.css","assets/Pin-ef2077bf.js","assets/Pin-d8350414.css","assets/Phone-4f5c9dd6.css"])),Messages:r.lazy(()=>D(()=>import("./Messages-9d143420.js"),["assets/Messages-9d143420.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Messages-60b3e95f.css"])),Mail:r.lazy(()=>D(()=>import("./Mail-46846074.js"),["assets/Mail-46846074.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Mail-90ffb59d.css"])),Settings:r.lazy(()=>D(()=>import("./Settings-0e4bbb1d.js"),["assets/Settings-0e4bbb1d.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Check-f7d9fe79.js","assets/Check-a34d2706.css","assets/Slider-64a4d624.js","assets/Slider-6ff4fc19.css","assets/Switch-734ff6ae.js","assets/Switch-0656aa7b.css","assets/Numpad-97cba5b0.js","assets/Numpad-3c37f635.css","assets/Pin-ef2077bf.js","assets/Pin-d8350414.css","assets/Settings-03481b08.css"])),Notes:r.lazy(()=>D(()=>import("./Notes-038ffc65.js"),["assets/Notes-038ffc65.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Notes-c4200a54.css"])),Photos:r.lazy(()=>D(()=>import("./Photos-c78119e7.js"),["assets/Photos-c78119e7.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Check-f7d9fe79.js","assets/Check-a34d2706.css","assets/Photos-8afde32d.css"])),Calculator:r.lazy(()=>D(()=>import("./Calculator-acf76661.js"),["assets/Calculator-acf76661.js","assets/jsx-runtime-7cf68bf7.js","assets/number-28525126.js","assets/Calculator-578fc3b6.css"])),Weather:r.lazy(()=>D(()=>import("./Weather-f5fe110b.js"),["assets/Weather-f5fe110b.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/color-e1a4c391.js","assets/Weather-5dad2be0.css"])),Camera:r.lazy(()=>D(()=>import("./Camera-bdaf3da6.js"),["assets/Camera-bdaf3da6.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/color-e1a4c391.js","assets/index.esm-3a7b91c6.js","assets/AppStore-d253a9d4.js","assets/AppStore-e7923db4.css","assets/Pin-ef2077bf.js","assets/Pin-d8350414.css","assets/Camera-1340a0d1.css"])),AppStore:r.lazy(()=>D(()=>import("./AppStore-d253a9d4.js"),["assets/AppStore-d253a9d4.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/AppStore-e7923db4.css"])),Wallet:r.lazy(()=>D(()=>import("./Wallet-6ebab142.js"),["assets/Wallet-6ebab142.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Numpad-97cba5b0.js","assets/Numpad-3c37f635.css","assets/Wallet-0d3f04b5.css"])),Clock:r.lazy(()=>D(()=>import("./Clock-7cbb1ede.js"),["assets/Clock-7cbb1ede.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/index.esm-3a7b91c6.js","assets/Switch-734ff6ae.js","assets/Switch-0656aa7b.css","assets/Clock-594c3f94.css"])),Maps:r.lazy(()=>D(()=>import("./Maps-d6146487.js"),["assets/Maps-d6146487.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/index-13bc66ee.js","assets/Maps-4c0545be.css"])),Garage:r.lazy(()=>D(()=>import("./Garage-98f0ff97.js"),["assets/Garage-98f0ff97.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Garage-9189a272.css"])),Home:r.lazy(()=>D(()=>import("./Home-3c4b79fe.js"),["assets/Home-3c4b79fe.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Home-3cebb5c1.css"])),YellowPages:r.lazy(()=>D(()=>import("./YellowPages-7c97e211.js"),["assets/YellowPages-7c97e211.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/YellowPages-1cb76432.css"])),MarketPlace:r.lazy(()=>D(()=>import("./Marketplace-24564227.js"),["assets/Marketplace-24564227.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Marketplace-77da2d7c.css"])),Music:r.lazy(()=>D(()=>import("./Music-cd773b9b.js"),["assets/Music-cd773b9b.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/color-e1a4c391.js","assets/Music-f539c373.css"])),Services:r.lazy(()=>D(()=>import("./Services-4e162ec0.js"),["assets/Services-4e162ec0.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Services-6a6631dd.css"])),Crypto:r.lazy(()=>D(()=>import("./Crypto-c296a615.js"),["assets/Crypto-c296a615.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Crypto-63e8b504.css"])),Twitter:r.lazy(()=>D(()=>import("./PhoneProvider-d476cfa1.js").then(i=>i.c1),["assets/PhoneProvider-d476cfa1.js","assets/jsx-runtime-7cf68bf7.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css"])),Instagram:r.lazy(()=>D(()=>import("./Instagram-389f03d3.js"),["assets/Instagram-389f03d3.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Check-f7d9fe79.js","assets/Check-a34d2706.css","assets/Tiktok-b1a4716c.js","assets/Switch-734ff6ae.js","assets/Switch-0656aa7b.css","assets/Slider-64a4d624.js","assets/Slider-6ff4fc19.css","assets/color-e1a4c391.js","assets/index.esm-3a7b91c6.js","assets/AppStore-d253a9d4.js","assets/AppStore-e7923db4.css","assets/Pin-ef2077bf.js","assets/Pin-d8350414.css","assets/Tiktok-874644b8.css","assets/Instagram-194fe112.css"])),Tinder:r.lazy(()=>D(()=>import("./Tinder-5511c57b.js"),["assets/Tinder-5511c57b.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/color-e1a4c391.js","assets/index.esm-3a7b91c6.js","assets/AppStore-d253a9d4.js","assets/AppStore-e7923db4.css","assets/Pin-ef2077bf.js","assets/Pin-d8350414.css","assets/Tinder-3eba998e.css"])),DarkChat:r.lazy(()=>D(()=>import("./DarkChat-7c16e359.js"),["assets/DarkChat-7c16e359.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/DarkChat-859a4f26.css"])),TikTok:r.lazy(()=>D(()=>import("./Tiktok-b1a4716c.js"),["assets/Tiktok-b1a4716c.js","assets/jsx-runtime-7cf68bf7.js","assets/PhoneProvider-d476cfa1.js","assets/number-28525126.js","assets/PhoneProvider-ee1e3eda.css","assets/Switch-734ff6ae.js","assets/Switch-0656aa7b.css","assets/Slider-64a4d624.js","assets/Slider-6ff4fc19.css","assets/color-e1a4c391.js","assets/index.esm-3a7b91c6.js","assets/AppStore-d253a9d4.js","assets/AppStore-e7923db4.css","assets/Pin-ef2077bf.js","assets/Pin-d8350414.css","assets/Tiktok-874644b8.css"])),Tetris:r.lazy(()=>D(()=>import("./Tetris-4d29e6a1.js"),["assets/Tetris-4d29e6a1.js","assets/jsx-runtime-7cf68bf7.js"])),HigherLower:r.lazy(()=>D(()=>import("./HigherOrLower-b1f60749.js"),["assets/HigherOrLower-b1f60749.js","assets/jsx-runtime-7cf68bf7.js","assets/HigherOrLower-7ddf58ae.css"])),2048:r.lazy(()=>D(()=>import("./2048-6e6cd84d.js"),["assets/2048-6e6cd84d.js","assets/jsx-runtime-7cf68bf7.js","assets/2048-72c0d931.css"]))};function Ot(i){var e,a,l;if(c.CallData.value&&c.CallData.patch({banner:!0}),S.ReceiveAppNotifications.set(!0),H.Share.value&&H.Share.reset(),H.ContextMenu.value&&H.ContextMenu.reset(),H.ControlCentreVisible.value)return H.ControlCentreVisible.reset();if(((e=c.App.value)==null?void 0:e.name)==="Setup"){c.Setup.Stage.value===5?(c.App.reset(),L("finishedSetup",c.Settings.value),L("setPhoneName",c.Settings.value.name),S.WasInSetup.set(!1),S.Unlocked.set(!0),c.Setup.IsSetup.set(!0),x("info","Finished setup, saving data")):(S.WasInSetup.set(!0),c.Setup.Stage.set(c.Setup.Stage.value+1));return}if(!S.Unlocked.value){if(S.LockScreenVisible.value)return S.PassedFaceId.value||!c.Settings.value.security.pinCode?(c.App.value||(a=H)!=null&&a.IndicatorVisible&&H.IndicatorVisible.set(!1),S.Unlocked.set(!0)):S.ShowPin.set(!0);i.setPhoneRotation(0),S.LockScreenVisible.set(!0),c.App.reset();return}switch((l=c.App.value)==null?void 0:l.name){case"Camera":L("Camera",{action:"close"}),i.setPhoneRotation(0),c.App.reset();break;default:c.App.reset()}return null}function Pt(){const[i,e]=r.useState(!1),a=d(H.FullscreenImage);return t("div",{className:"showimage-container",onClick:()=>H.FullscreenImage.reset(),children:p("div",{className:"showimage-image",children:[Ae(a.image)?t("video",{src:a.image,controls:!1,loop:!0,autoPlay:!0,onClick:l=>l.stopPropagation()}):t("img",{src:a.image,onClick:l=>l.stopPropagation()}),a.image.includes("http")&&t("div",{className:"text",onClick:l=>{l.stopPropagation(),!i&&$e(a.image).then(()=>e(!0))},children:O("COMPONENTS.IMAGE.SAVE_TO_GALLERY")})]})})}function kt({data:i,Func:e}){const[a,l]=r.useState(!0);let o,m=i.icon;if(i.app){let u=ie.value.apps[i.app];o=(i.app==="Messages"||i.app==="Phone"||i.app==="Wallet")&&i.title.length==10&&/^[0-9]+$/.test(i.title),m=(u==null?void 0:u.icon)??`./assets/img/icons/apps/${i.app}.png`,i.title||(i.title=(u==null?void 0:u.name)??i.app)}i.content.length===0&&i.thumbnail?i.content=O("COMPONENTS.NOTIFICATIONS.SENT_PHOTO"):i.content.includes("tenor")&&(i.content=O("COMPONENTS.NOTIFICATIONS.SENT_GIF"));const n={hidden:{opacity:0,y:-50},visible:{opacity:1,y:0},exit:{opacity:0,y:-50}};return t(ne,{children:t(ee.div,{className:"notification","data-locked":!1,onClick:()=>{i.app&&c.App.set({name:i.app})},children:p(ee.div,{className:"notification-wrapper",variants:n,style:{backdropFilter:"blur(10px)"},initial:"hidden",animate:"visible",exit:"exit",drag:"y",dragConstraints:a&&{top:0,bottom:0},dragElastic:{top:.2,bottom:0},dragMomentum:!1,onDragEnd:(u,g)=>{g.offset.y<-50&&(l(!1),e.remove())},children:[i.showAvatar||i.avatar?t("div",{className:"avatar",style:{backgroundImage:`url(${i.avatar??"./assets/img/no-pfp.png"})`},children:m&&t("img",{className:"app-icon",src:m})}):m&&t("img",{className:"icon",src:m}),p("div",{className:"info","data-icon":!!m,children:[p("div",{className:"notification-header",children:[t("div",{className:"title",children:o?ce(i.title):i.title}),t("div",{className:"time",children:O("COMPONENTS.NOTIFICATIONS.NOW")})]}),p("div",{className:"content",children:[t("div",{className:"text",children:i.content.length>75?i.content.substring(0,75)+"...":i.content}),i.thumbnail&&t("div",{className:"thumbnail",children:Ae(i.thumbnail)?t("video",{muted:!0,src:i.thumbnail}):t("img",{src:i.thumbnail})})]})]})]})})})}function wt(i){const{Func:e}=r.useContext(fe),[a]=e.TextColor,l=d(H.IndicatorVisible);return t("div",{className:"indicator-container",onClick:i.cb,style:{display:l?"flex":"none"},children:t("div",{className:"home-indicator",style:{backgroundColor:a}})})}function Mt(){const{Func:i}=r.useContext(fe),e=d(c.Settings),a=d(ie),l=d(S.EditMode),[o]=i.TextColor,m=d(c.CallData),n=d(c.Battery),u=d(c.Service),g=d(c.Setup.IsSetup),[s,f]=r.useState("00:00"),b=d(me.CurrentTime),_=d(me.Alert);return r.useEffect(()=>{let v=b.hour,h=b.minute;e.time.twelveHourClock&&(v=v>12?v-12:v==0?12:v),f(`${v<10?"0"+v:v}:${h<10?"0"+h:h}`)},[b]),t("div",{className:"header",style:{color:o},children:l?p("div",{className:"header-editMode",children:[t("div",{className:"button",children:"+"}),t("div",{className:"button",onClick:()=>{S.EditMode.set(!1),L("setSettings",e)},children:"Done"})]}):p(ne,{children:[t("div",{className:`time${m&&m.banner&&!a.DynamicIsland?" incall":""}`,onClick:()=>{m.banner&&c.CallData.patch({banner:!1})},children:s}),p("div",{className:"right",children:[p("div",{className:"top","data-theme":St(o)?"dark":"light",children:[e.airplaneMode?t(qe,{}):t(Dt,{service:u}),t(Ye,{battery:n})]}),!_&&g&&t("div",{className:"control-centre-bar",style:{backgroundColor:`${o==="#000000"?"#00000066":"#fafafa66"}`},onClick:()=>H.ControlCentreVisible.set(!0)})]})]})})}const Dt=({service:i})=>t("div",{className:"service",children:[1,2,3,4].map((e,a)=>t("div",{className:`${i>=e?"active":""}`},a))});function Ye({battery:i,dead:e}){return p("div",{className:"battery-container","data-big":e,children:[p("div",{className:"battery",children:[t("div",{className:"battery-bar-wrapper",children:t("div",{className:"battery-bar",style:{width:`${e?20:i.battery}%`},"data-low":i.battery<=20&&!i.charging,"data-savemode":i.lowPowerMode&&!i.charging,"data-charging":i.charging})}),i.charging&&t(je,{})]}),t("div",{className:"battery-plup"})]})}function Le(i){const e=i.app,a=e.name,l=d(S.EditMode),o=d(S.Unlocked),m=d(U.MISC.NOTIFICATIONS),[n,u]=r.useState(0),g=d(c.Settings);return r.useEffect(()=>{let s=m==null?void 0:m.filter(f=>f.app===a);u((s==null?void 0:s.length)??0)},[e]),K("newNotification",s=>{g!=null&&g.airplaneMode||s.app===a&&u(n+1)}),p("div",{...i.longPress,className:"app","data-editmode":l,onMouseUp:s=>{var f;if((f=i.longPress)==null||f.onMouseUp(s),e.value&&!l&&o&&Rt(e.value)){s.stopPropagation();let[b,_]=i.relative(s);c.App.set({name:e.value,from:{x:b,y:_}}),x("info","Opening app: "+e.value),n>0&&(L("Notifications",{action:"clearNotifications",app:e.name}),U.MISC.NOTIFICATIONS.set(m.filter(v=>v.app!==e.name)))}},children:[p("div",{className:"image",style:{backgroundImage:e.value&&`url(${e.icon??`./assets/img/icons/apps/${e.value}.png`}`},"data-dummy":e.value===null,draggable:!1,children:[t(Lt,{name:a,identifier:e.value}),e.value&&p(ne,{children:[n>0&&t("div",{className:"notifications",children:n}),(e==null?void 0:e.removable)&&l&&o&&!i.dragging&&p("div",{className:"appDelete",onMouseDown:s=>{s.stopPropagation(),H.PopUp.set({title:`Remove "${e.name}"?`,description:"Deleting this app will NOT delete its data. The app can later be reinstalled from the App store.",buttons:[{title:"Cancel"},{title:"Delete",color:"red",cb:()=>{i.onDelete()}}]})},children:[t("div",{className:"appDeleteBlur"}),t("i",{className:"far fa-minus"})]})]})]}),i.name&&t("p",{className:"name",children:e.name})]})}const Rt=i=>!We.value.find(e=>e.app===i&&e.progress!==100),Lt=({name:i,identifier:e})=>{const a=d(We),[l,o]=r.useState(null);return r.useEffect(()=>{let m=a.find(n=>n.app===e&&n.progress!==100);o(m)},[a]),l?t("div",{className:"progress-bar-container",children:t(bt,{value:l.progress,strokeWidth:50,className:"progress-bar",styles:Et({strokeLinecap:"butt",pathColor:"rgba(255, 255, 255, 0.5)"})})}):null};const xt=.3,Vt=40,xe=300;function Xe(){var y,M;const{Func:i}=r.useContext(fe),e=d(ie),a=d(c.Settings),[l]=i.TextColor,[o,m]=r.useState(""),n=d(c.App),u=d(S.EditMode),g=d(S.Unlocked),s=d(c.PhoneNumber),[f,b]=r.useState(null),_=r.useRef(null);let[v,h]=r.useState(null),[P,V]=r.useState(!1),[E,$]=r.useState(0);const B=`-${E*100}% - (var(--homescreen-page-padding) * 2 * ${E})`,k=4,I=24,A=4,G=N=>{const C=f.getBoundingClientRect(),T=Se(a.display.size),R=Math.min(Math.max((N.clientX-C.left)/T,0),C.width/T),F=Math.min(Math.max((N.clientY-C.top)/T,0),C.height/T);return[R,F]};r.useEffect(()=>{S.EditMode.set(!1)},[g]),r.useEffect(()=>{var N,C,T,R,F;if(!n)return Fe(a.wallpaper.background,a.display.theme,X=>m(X));(N=e==null?void 0:e.apps)!=null&&N[n==null?void 0:n.name]&&((T=(C=e==null?void 0:e.apps)==null?void 0:C[n==null?void 0:n.name])!=null&&T.custom)&&!((F=(R=e==null?void 0:e.apps)==null?void 0:R[n==null?void 0:n.name])!=null&&F.ui)||setTimeout(()=>m(null),250)},[s,(y=a==null?void 0:a.wallpaper)==null?void 0:y.background,(M=a==null?void 0:a.display)==null?void 0:M.theme,n]);const Y=ze(()=>S.EditMode.set(!0));let w=null;const q=(N,C)=>{const T=[...a.apps];let R=T[N][C],F=e.apps[R];T[N].splice(C,1),T[N].length===0&&T.splice(N,1),c.Settings.patch({apps:T,storage:{...a.storage,used:a.storage.used-e.apps[R].size}}),F&&(F!=null&&F.onDelete)&&L("uninstallCustomApp",R),L("setSettings",a)};r.useEffect(()=>{const N=()=>{var C,T;if(w&&(clearTimeout(w),w=null),P){const R=parseInt(((T=(C=_.current)==null?void 0:C.dataset)==null?void 0:T.delta)??0);_.current.dataset.delta=0,_.current.dataset.start=0,Math.abs(R)>Vt&&(R>0?$(E-1):$(E+1))}if(v){const[R,F]=v,[X,W]=R.split(":").map(Q=>parseInt(Q)),te=[...a.apps];let se=te[X];se[W]=F.value,te[X]=se,a.apps=te.filter((Q,J)=>J===0||Q.length>0),X!==0&&(E=X-1,$(E)),c.Settings.patch({apps:a.apps}),h(null)}V(!1)};return window.addEventListener("mouseup",N),()=>window.removeEventListener("mouseup",N)},[E,a.apps,v,P]);const Z=N=>{var _e,Oe,Pe;if(!v){if(P){const oe=(N.clientX-parseInt(((Oe=(_e=_.current)==null?void 0:_e.dataset)==null?void 0:Oe.start)??0))*xt;(oe<0&&E<a.apps.length-2||oe>0&&E>0)&&(_.current.animate({left:`calc(${B} + ${oe}%)`},{duration:200,fill:"both",easing:"ease-out"}),_.current.dataset.delta=oe)}return}const C=f.querySelector(".drag-app");if(!C)return;const[T,R]=G(N);if(C.style.left=`${T}px`,C.style.top=`${R}px`,N.target.id==="right-navigation-area"){(!w||w[0]!==N.target.id)&&E<a.apps.length-1&&a.apps[a.apps.length-1].filter(z=>z!==v[1].value).length>0&&(w=[N.target.id,setTimeout(()=>{if(E===a.apps.length-2){const z=[...a.apps,[]];a.apps=z,c.Settings.patch({apps:z})}$(E+1)},xe)]);return}else if(N.target.id==="left-navigation-area"){(!w||w[0]!==N.target.id)&&E>0&&(w=[N.target.id,setTimeout(()=>{a.apps=[...a.apps].filter((z,oe)=>oe===0||z.length>0),E=Math.min(E,a.apps.length-2),$(E),c.Settings.patch({apps:a.apps}),$(E-1)},xe)]);return}else w&&(clearTimeout(w[1]),w=null);const F=N.target.closest("[data-slot-id]"),X=(Pe=F==null?void 0:F.dataset)==null?void 0:Pe.slotId;if(!X)return;const W=[...a.apps],[te,se]=v[0].split(":").map(z=>parseInt(z));let[Q,J]=X.split(":").map(z=>parseInt(z));const pe=te===Q,Ce=!pe;if(J=Math.min(J,W[Q].length-(Ce?0:1)),pe&&se===J)return;let le=W[te].filter(z=>z==="__"?v[1].value:z),ae=W[Q].filter(z=>z==="__"?v[1].value:z);const ve=!pe&&ae.length>=(Q===0?k:I);if(delete le[se],W[te]=le.filter(z=>z),pe&&delete ae[se],ve){if(Q!==0)return;const z=ae[J],oe=(Ne=1)=>{var ke;return(((ke=W[Ne])==null?void 0:ke.length)??0)<(Ne===0?k:I)?Ne:oe(Ne+1)},be=oe();W[be]||(W[be]=[]),W[be].push(z),delete ae[J]}ae.splice(pe&&J>se?J+1:J,0,"__"),W[Q]=ae.filter(z=>z);const he=[...v];he[0]=`${Q}:${J}`,v=he,a.apps=W,h(he),c.Settings.patch({apps:a.apps})},j=N=>{const C=N.page,T=N.max;return t("div",{className:"app-grid",children:t(re,{children:f&&Array(T).fill(null).map((R,F)=>{var ve;const X=a.apps[C][F],W=X&&X!=="__"?X:null,te=`${C}:${F}`,se=v&&v[0]===te,Q=f.getBoundingClientRect(),J=Se(a.display.size),Ce=`((${Q.width/J/A}px - var(--app-width)) / 2)`,le=(ve=e==null?void 0:e.apps)==null?void 0:ve[W],ae={...le??{},value:W};return W&&!le?null:t("div",{className:we("app-wrapper",(!le||se)&&"invisible"),style:{padding:`calc(${Ce})`,paddingTop:"0px"},onMouseDown:W&&u?he=>{h([te,ae,G(he)])}:null,"data-slot-id":te,"data-editmode":u,children:t(Le,{app:ae,name:N.page!==0,longPress:le&&Y,relative:G,onDelete:()=>q(C,F)})},F)})})})};return r.useEffect(()=>{_.current.animate({left:`calc(${B})`},{duration:150,fill:"both",easing:"ease-out"})},[B,P]),p("div",{ref:N=>b(N),className:"homescreen-container",onMouseMove:Z,style:{color:l,backgroundImage:o?`url(${o})`:null},children:[t("div",{id:"left-navigation-area"}),t("div",{id:"right-navigation-area"}),v&&t("div",{className:"drag-app",style:{left:v[2][0],top:v[2][1]},children:t("div",{className:"app-wrapper",children:t(Le,{app:v[1],dragging:!0})})}),t("div",{className:"page-container",onMouseDown:N=>{_.current.dataset.start=N.clientX,V(!0)},children:t("div",{ref:_,children:Array(a.apps.length-1).fill(null).map((N,C)=>t("div",{style:{left:`calc(${C*100}% + (var(--homescreen-page-padding) * 2 * ${C}))`},children:t(j,{page:C+1,max:I})},C))})}),p("div",{className:"bottom-container",children:[t("div",{className:"page-indicator",children:t("div",{children:Array(a.apps.length-1).fill(null).map((N,C)=>t("span",{className:we("indicator",C===E&&"current"),onClick:()=>$(C)},C))})}),t("div",{className:"favourites",children:t(j,{page:0,max:k})})]})]})}const $t=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"}));function Ft(){const i=r.useRef(null),{Func:e}=r.useContext(fe),a=d(ie),l=d(c.Settings),o=d(c.App),[m]=e.TextColor,n=d(S.ShowPin),u=d(S.LockScreenVisible),g=d(S.ReceiveAppNotifications),s=d(S.Visible),f=d(S.PassedFaceId),b=d(ue),[_,v]=r.useState(!1),[h,P]=r.useState([]),V=d(c.PhoneNumber),E=d(U.MISC.NOTIFICATIONS),[$,B]=r.useState(!0),[k,I]=r.useState(""),A=r.useRef(null);r.useEffect(()=>{U.MISC.NOTIFICATIONS.value||L("Notifications",{action:"getNotifications"}).then(y=>{y&&U.MISC.NOTIFICATIONS.set(y)})},[]),r.useEffect(()=>{n||!l.security.faceId||!l.security.pinCode||!s||setTimeout(()=>{L("Security",{action:"verifyFace"}).then(y=>{y&&S.PassedFaceId.set(!0)})},750)},[n,s]),r.useEffect(()=>{v(!1)},[u]),r.useEffect(()=>(document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)),[n,h]),K("newNotification",y=>{var M,N,C;if(!(!y||!y.content))if(y.app){let T=(M=l.notifications)==null?void 0:M[y==null?void 0:y.app];if((T==null?void 0:T.enabled)===!1||(o==null?void 0:o.name)===y.app&&!u&&!g||!He(y.app,l.apps))return;if(!(l!=null&&l.sound.silent)&&(T==null?void 0:T.sound)!==!1){let R=(C=(N=a==null?void 0:a.sounds)==null?void 0:N.appNotifications)==null?void 0:C[y.app];c.SoundManager.set({url:`./assets/sound/notifications/${R??"default.mp3"}`})}}else l!=null&&l.sound.silent||c.SoundManager.set({url:"./assets/sound/notifications/default.mp3"})});const G=y=>{let M=[...h,y];P(M),M.length>=4&&L("Security",{action:"verifyPin",pin:M.join("")}).then(N=>{N?(P([]),S.Unlocked.set(!0)):(i.current.className="pin-circles wrong white",setTimeout(()=>{i.current.className="pin-circles white",P([])},350))})},Y=y=>{n&&(y.key=="Backspace"?P(h.slice(0,-1)):y.key.match(/[0-9]/g)&&G(y.key))},w=()=>Fe(l.wallpaper.background,l.display.theme,y=>I(y)),q=()=>B(!et(A.current));r.useEffect(w,[l.display.theme,V]);const Z=(y,M)=>{var N;if(!y)return x("warning","No notification id provided.");M&&M[0].app?L("Notifications",{action:"clearNotifications",app:(N=M[0])==null?void 0:N.app}).then(()=>{var C;x("info","Deleted app notifications for: "+((C=M[0])==null?void 0:C.app)),U.MISC.NOTIFICATIONS.set(E.filter(T=>{var R;return T.app!==((R=M[0])==null?void 0:R.app)}))}):L("Notifications",{action:"deleteNotification",id:y}).then(()=>{x("info","Deleted notification with id: "+y),U.MISC.NOTIFICATIONS.set(E.filter(C=>C.id!==y))})};let j={1:null,2:"ABC",3:"DEF",4:"GHI",5:"JKL",6:"MNO",7:"PQRS",8:"TUV",9:"WXYZ"};return t(ee.div,{className:"lockscreen",exit:{y:"-100vh",opacity:.3,transition:{duration:.4}},style:{color:m,backgroundImage:`url(${k})`},onScroll:q,children:n?t("div",{className:"pin-wrapper",children:p("div",{className:"pin",children:[p("div",{className:"title",children:[" ",O("LOCKSCREEN.ENTER_PASSCODE")]}),t(It,{pin:h,Ref:i,dark:!1}),p("div",{className:"numbers",children:[Object.keys(j).map((y,M)=>p("div",{onClick:()=>G(parseInt(y)),children:[y,j[y]?t("span",{children:j[y]}):null]},M)),t("span",{}),t("div",{className:"zero-number",onClick:()=>G(0),children:"0"}),t("span",{})]}),t("div",{className:"bottom",onClick:()=>{h.length>0?P(h.slice(0,-1)):P([])},children:O("LOCKSCREEN.DELETE")})]})}):p(ne,{children:[p("div",{className:"top",children:[t("div",{ref:A,style:{visibility:s&&l.security.pinCode?"visible":"hidden"},children:f?t(Je,{}):t(Ke,{})}),t(Ut,{})]}),b&&t(zt,{}),t("div",{className:"lockscreen-notification-container",style:{marginTop:b?"1.5rem":"4rem"},children:(()=>{const y=[];return E?E.sort((M,N)=>N.timestamp-M.timestamp).map((M,N)=>{let C=E.filter(T=>T.app==M.app);return M.timestamp||(M.timestamp=Date.now()),C.length>1?y.includes(M.app)?void 0:(y.push(M.app),t(Ht,{data:C,remove:(T,R)=>Z(M.id,R)},N)):t(ye,{data:M,remove:T=>Z(T)},N)}):t(ne,{})})()}),p("div",{className:`actions${$?"":" hidden"}`,children:[t(Qe,{"data-active":_,onClick:()=>{L("toggleFlashlight",{toggled:!_}).then(y=>v(!_))}}),t(Ze,{onClick:()=>{S.LockScreenVisible.set(!1),c.App.set({name:"Camera"})}})]})]})})}const zt=()=>{const i=d(c.Settings),e=d(ue),[a,l]=r.useState(!1),[o,m]=r.useState(null),n=s=>{if(!s)return"0:00";let f=Math.floor(s/60),b=Math.floor(s-f*60);return f+":"+(b<10?"0":"")+b},u={light:{active:"rgba(20, 20, 20, 0.7)",track:"rgba(0, 0,0, 0.15)"},dark:{active:"rgba(255, 255, 255, 0.7)",track:"rgba(255, 255, 255, 0.2)"}},g=r.useRef(null);return r.useEffect(()=>{if(!(e!=null&&e.ref)||!(g!=null&&g.current))return;const s=g.current,f=e.ref.analyser,b=5,_=4,v=3,h=20,P=5,V=10;s.width=40,s.height=h;let E=0;const $=()=>{let B=new Uint8Array(f.frequencyBinCount);f.getByteFrequencyData(B);let k=s.width-V/2,I=s.height,A=k/b,G=s.getContext("2d");G.beginPath(),G.clearRect(0,0,s.width,s.height),G.fillStyle="#5d5d5d";for(let Y=0;Y<b;Y++){let w=B[Y]/255*h;w<v&&(w=v),G.roundRect(Y*A+V/4,I/2-w/2,A-_,w,P),G.fill()}E=requestAnimationFrame($)};return $(),()=>{cancelAnimationFrame(E)}},[e==null?void 0:e.ref]),p("div",{className:"music-player-container",children:[t("div",{className:"blur"}),p("div",{className:"music-player-wrapper",children:[p("div",{className:"music-player-header",children:[p("div",{className:"music-player-song",children:[t("img",{className:"artwork",src:e.song.Cover??"src/assets/img/icons/music/unknown.png"}),p("div",{className:"music-player-info",children:[t("div",{className:"title",children:e.song.Title}),t("div",{className:"artist",children:e.song.Artist??"Unknown"})]})]}),e.duration&&t("canvas",{ref:g})," "]}),p("div",{className:"duration-slider",children:[t("div",{className:"duration",children:n(o?(e==null?void 0:e.duration)/100*o:e==null?void 0:e.current)}),t(Te,{type:"range",min:0,max:100,value:o||e.current/e.duration*100,style:{background:`linear-gradient(to right, ${u[i.display.theme].active} 0%, ${u[i.display.theme].active} ${o||e.current/e.duration*100}%, ${u[i.display.theme].track} ${o||e.current/e.duration*100}%, ${u[i.display.theme].track} 100%)`},onMouseDown:()=>l(!0),onMouseUp:s=>{l(!1),o&&(e.goTo(e.duration/100*o),m(null))},onChange:s=>m(s.target.value)}),t("div",{className:"duration",children:n(e.duration)})]}),p("div",{className:"music-player-actions",children:[t(Ue,{onClick:()=>e.previous()}),t("div",{className:"pause",onClick:()=>ue.patch({playing:!ue.value.playing}),children:e.playing?t(Be,{}):t(tt,{})}),t(Ge,{onClick:()=>e.next()})]})]})]})},Ht=({data:i,remove:e})=>{const[a,l]=At(!0,!1);return p(ee.div,{className:"notification-stack",children:[t(ye,{data:i[0],stack:a,onClick:()=>l(),remove:o=>e(o,i)}),t(re,{initial:!1,mode:"wait",children:!a&&i.filter((o,m)=>m!==0).map((o,m)=>t(ee.div,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},exit:{opacity:0,y:-100},transition:{delay:m*.05,duration:.25},children:t(ye,{data:o,remove:n=>e(n)},m)},m))})]})},Ut=()=>{const i=d(c.Settings),e=d(ie),a=d(me.CurrentTime),[l,o]=r.useState(""),[m,n]=r.useState("Monday, 1 January");return r.useEffect(()=>{let u=a==null?void 0:a.hour,g=a==null?void 0:a.minute;i.time.twelveHourClock&&(u=u>12?u-12:u==0?12:u),o(`${u<10?"0"+u:u}:${g<10?"0"+g:g}`);let s=new Date;n(`${s.toLocaleDateString(e.DateLocale,{weekday:"long"})}, ${s.toLocaleDateString(e.DateLocale,{month:"long"})} ${s.getDate()}`)},[a]),p(ne,{children:[t("div",{className:"time",children:l}),t("div",{className:"date",children:m})]})},ye=({data:i,stack:e,remove:a,onClick:l})=>{var _;const[o,m]=r.useState(!0),[n,u]=r.useState(!1),g=d(c.PhoneNumber);let s=i;if(!s)return null;let f=(s.app==="Messages"||s.app==="Phone"||s.app==="Wallet")&&((_=s.title)==null?void 0:_.length)==((g==null?void 0:g.length)||10)&&/^[0-9]+$/.test(s.title);if(/<!REQUESTED-PAYMENT-(\d*)!>/.test(s.content)||/<!SENT-PAYMENT-(\d*)!>/.test(s.content))return;/<!SENT-LOCATION-X=(-?\d*\.?\d*)Y=(-?\d*\.?\d*)!>/.test(s.content)?s.content=O("APPS.MESSAGES.SENT_LOCATION_SHORT"):s.content.startsWith('<!AUDIO-MESSAGE-IMAGE="')&&(s.content=O("APPS.MESSAGES.SENT_AUDIO_MESSAGE")),s.content.length===0&&s.thumbnail?s.content=O("COMPONENTS.NOTIFICATIONS.SENT_PHOTO"):s.content.includes("tenor")&&(s.content=O("COMPONENTS.NOTIFICATIONS.SENT_GIF"));let b=s.icon;if(s.app){let v=ie.value.apps[s.app];b=(v==null?void 0:v.icon)??`./assets/img/icons/apps/${s.app}.png`,s.title||(s.title=(v==null?void 0:v.name)??s.app)}return p(ee.div,{className:"notification","data-locked":!0,"data-stack":e,drag:"x",dragConstraints:o&&{left:0,right:0},dragElastic:{right:0,left:.9},dragMomentum:!1,onDragStart:()=>u(!0),onDragEnd:(v,h)=>{h.offset.x<-250&&(m(!1),a(s.id,[s])),setTimeout(()=>u(!1),100)},onClick:()=>{n||!l||l()},children:[p("div",{className:"notification-wrapper",children:[t("div",{className:"blur"}),s.showAvatar||s.avatar?t("div",{className:"avatar",style:{backgroundImage:`url(${s.avatar??"./assets/img/no-pfp.png"})`},children:b&&t("img",{className:"app-icon",src:b})}):b&&t("img",{className:"icon",src:b}),p("div",{className:"info","data-icon":!!b,children:[p("div",{className:"notification-header",children:[t("div",{className:"title",children:f?ce(s.title):s.title}),t("div",{className:"time",children:nt(s.timestamp)})]}),p("div",{className:"content",children:[t("div",{className:"text",children:s.content.length>75?s.content.substring(0,75)+"...":s.content}),s.thumbnail&&t("div",{className:"thumbnail",children:Ae(s.thumbnail)?t("video",{src:s.thumbnail,muted:!0}):t("img",{src:s.thumbnail})})]})]})]}),e&&t("div",{className:"stack"})]})};function Bt(){const i=d(ie),e=d(c.Settings),a=d(S.Unlocked),l=d(S.Visible),o=d(S.LockScreenVisible),m=d(S.ReceiveAppNotifications),n=d(c.Battery),[u,g]=r.useState(null),s=d(c.App),f=r.useRef([]),b=r.useRef(l);r.useEffect(()=>{b.current=l},[l]);const _=r.useRef(!1);K("newNotification",h=>{var P,V,E;x("info","New notification received "+JSON.stringify(h)),!(!h||!h.content)&&(u||_.current?f.current=[...f.current,h]:v(h),U.MISC.NOTIFICATIONS.set([h,...((E=(V=(P=U)==null?void 0:P.MISC)==null?void 0:V.NOTIFICATIONS)==null?void 0:E.value)??[]]))});const v=h=>{var V,E,$,B;if(e.airplaneMode||e.doNotDisturb)return x("warning","Notification got returned since the phone is in airplane mode or do not disturb mode.");if(!a&&l)return;if((V=i==null?void 0:i.Battery)!=null&&V.Enabled&&(n==null?void 0:n.battery)===0)return x("warning","Notification got returned since the battery is 0%");if(h.app){let k=(E=e.notifications)==null?void 0:E[h==null?void 0:h.app];if((k==null?void 0:k.enabled)===!1)return x("warning","Notification got returned since notifications for the app is disabled.");if((s==null?void 0:s.name)===h.app&&!o&&!m)return x("warning","Notification got returned since you're in the app and `receiveAppNotifications` is set to false");if((s==null?void 0:s.name)===h.app&&L("Notifications",{action:"deleteNotification",id:h.id}).then(()=>{var I;U.MISC.NOTIFICATIONS.set((I=U.MISC.NOTIFICATIONS)==null?void 0:I.value.filter(A=>A.id!==h.id)),x("info","Notification deleted since user is already in the app.")}),!He(h.app,e.apps))return x("warning","Notification got returned since the app is not installed.");if((k==null?void 0:k.sound)!==!1){let I=(B=($=i==null?void 0:i.sounds)==null?void 0:$.appNotifications)==null?void 0:B[h.app];c.SoundManager.set({url:`./assets/sound/notifications/${I??"default.mp3"}`})}}else c.SoundManager.set({url:"./assets/sound/notifications/default.mp3"});if(/<!REQUESTED-PAYMENT-(\d*)!>/.test(h.content)||/<!SENT-PAYMENT-(\d*)!>/.test(h.content))return;/<!SENT-LOCATION-X=(-?\d*\.?\d*)Y=(-?\d*\.?\d*)!>/.test(h.content)?h.content=O("APPS.MESSAGES.SENT_LOCATION_SHORT"):h.content.startsWith('<!AUDIO-MESSAGE-IMAGE="')&&(h.content=O("APPS.MESSAGES.SENT_AUDIO_MESSAGE")),g(h),_.current=!0,setTimeout(()=>{g(null),_.current=!1;let k=f.current;k.length>0?setTimeout(()=>{v(k[0]),f.current=k.slice(1)},200):b.current||L("exitFocus")},5e3)};return null}const Gt=()=>{const i=d(ie),e=d(c.Settings),a=d(c.PhoneNumber),l=d(c.Setup.IsSetup),o=d(c.Service),m=d(c.Battery);return K("updateTime",n=>{n&&(n.hour===20&&n.minute===0&&e.display.automatic?c.Settings.patch({display:{...e.display,theme:"dark"}}):n.hour===8&&n.minute===0&&e.display.automatic&&c.Settings.patch({display:{...e.display,theme:"light"}}),e.time.twelveHourClock&&(n.hour=n.hour%12||12),me.CurrentTime.set(n))}),K("phone:updateService",n=>n&&o&&c.Service.set(n)),K("phone:setName",n=>n&&c.Settings.patch({name:n})),K("phone:setBattery",n=>n&&c.Battery.patch({battery:n})),K("receivedAirdrop",n=>{var g;if(x("info","Airdrop request received"),!n)return x("error","Airdrop data was not received");if(e.airplaneMode)return x("warning","Airdrop was not received because the phone is in airplane mode");if((g=i==null?void 0:i.Battery)!=null&&g.Enabled&&m.battery===0)return x("warning","Airdrop was not received because the phone is out of battery");let u;switch(n.type){case"image":u=n.attachment.isVideo?O("COMPONENTS.AIRDROP.VIDEO"):O("COMPONENTS.AIRDROP.PHOTO");break;case"contact":u=O("COMPONENTS.AIRDROP.CONTACT");break;case"location":u=O("COMPONENTS.AIRDROP.LOCATION");break;case"note":u=O("COMPONENTS.AIRDROP.NOTE");break}H.PopUp.set({title:O("COMPONENTS.AIRDROP.TITLE"),description:O("COMPONENTS.AIRDROP.TEXT").format({sender:n.sender,type:u}),attachment:n.attachment,contact:n.contact,buttons:[{title:O("COMPONENTS.AIRDROP.DECLINE"),cb:()=>{L("Airdrop",{action:"denied",id:n.senderId})}},{title:O("COMPONENTS.AIRDROP.ACCEPT"),cb:()=>{switch(L("Airdrop",{action:"accepted",id:n.senderId}),n.type){case"image":$e(n.attachment.src);break;case"contact":if(n.contact.number===a)return;let s={firstname:n.contact.firstname,lastname:n.contact.lastname??"",number:n.contact.number,avatar:n.contact.avatar};if(!U.APPS.PHONE.contacts||U.APPS.PHONE.contacts.value.find(f=>f.number==n.contact.number))return;L("Phone",{action:"saveContact",data:s}),U.APPS.PHONE.contacts.set([...U.APPS.PHONE.contacts.value,s]);break;case"location":L("Maps",{action:"addLocation",name:n.name,location:n.location});break;case"note":L("Notes",{action:"create",data:n.note}).then(f=>{if(!f)return x("error","Failed to create note");n.note.id=f,U.APPS.NOTES.notes.set([...U.APPS.NOTES.notes.value,n.note])});break}}}]})}),K("phone:printCache",()=>{console.log("APP CACHE: "),Object.keys(U.APPS).forEach(n=>{Object.keys(U.APPS[n]).forEach(u=>{U.APPS[n][u].value!==void 0&&console.log(n+":"+u+" - ",U.APPS[n][u].value)})}),console.log("NOTIFICATIONS CACHE: ",U.MISC.NOTIFICATIONS.value)}),K("phone:printStacks",()=>{it.forEach(n=>{console.log(n.value)})}),K("phone:updateStorage",n=>{if(!n.size||!n.add)return;let u={...e,storage:{...e.storage,used:n.add?e.storage.used+n.size:e.storage.used-n.size}};c.Settings.set(u),L("setSettings",u)}),K("phone:contact",n=>{x("info","contact event received"),n&&H.ContextMenu.set({buttons:[{title:`${O("COMPONENTS.CONTEXT_MENU.CALL")} ${ce(n.number)}`,cb:()=>{Me({number:n.number})}},{title:`${O("COMPONENTS.CONTEXT_MENU.VIDEO_CALL")} ${ce(n.number)}`,cb:()=>{Me({number:n.number,videoCall:!0})}},{title:`${O("COMPONENTS.CONTEXT_MENU.MESSAGE")} ${ce(n.number)}`,cb:()=>{c.App.set({name:"Messages",data:{number:n.number},view:"messages"})}}]})}),K("phone:incomingCall",n=>{var g;if(x("info","Incoming call request received"),!n)return x("error","Incoming call data was not received");if(e.airplaneMode)return x("warning","Incoming call was not received because the phone is in airplane mode");if((g=i==null?void 0:i.Battery)!=null&&g.Enabled&&m.battery===0)return x("warning","Incoming call was not received because the phone is out of battery");if(!l)return;let u=st(n.number);if(e.doNotDisturb&&!u.favourite)return x("warning","Incoming call was not received because the phone is in do not disturb mode");c.CallData.set({...n,contact:u,incoming:!0,banner:!0}),c.SoundManager.set({url:`./assets/sound/ringtones/${e.sound.silent?"vibrate.ogg":`${e.sound.ringtone}.mp3`}`,loop:!0,override:!0})}),null},Ve={Light:["Clock","Garage","Home","Weather","DarkChat","Calculator","Camera","Tinder"],Dark:["Maps","2048","Tinder","Pages"]};function Wt(){var V;const i=d(c.Settings),e=d(c.CallData),a=d(S.Visible),[l,o]=r.useState(!1),[m,n]=r.useState(0),[u,g]=r.useState(!1),s=d(ue),f=d(me.Timer),b=ze(()=>g(E=>!E),{shouldPreventDefault:!0,delay:150}),_=()=>{if(e&&e.banner){c.CallData.patch({banner:!1});return}},v=()=>{e!=null&&e.incoming||e!=null&&e.inCall?n(u?3:1):s!=null&&s.playing?n(u?4:1):f!=null&&f.running?n(u?3:1):l?n(1):(n(0),g(!1))};r.useEffect(()=>{if(!e){g(!1);return}!e.inCall&&e.incoming&&g(!0),e.banner?g(!0):g(!1)},[e==null?void 0:e.incoming,e==null?void 0:e.inCall,e==null?void 0:e.banner]),r.useEffect(()=>v(),[s==null?void 0:s.playing,e==null?void 0:e.inCall,f,l]),r.useEffect(()=>g(!1),[a]);const h=r.useRef(!0);r.useEffect(()=>{if(h.current){h.current=!1;return}o(!0),setTimeout(()=>o(!1),2500)},[(V=i==null?void 0:i.sound)==null?void 0:V.silent]),r.useEffect(()=>{v()},[u]);let P={0:{width:"30%",height:"2.25rem",cursor:"default"},1:{width:"44%",height:"2.25rem"},2:{width:"9rem",height:"9rem"},3:{height:"5.5rem",width:"90%",borderRadius:"70px"},4:{height:"12rem",width:"90%",borderRadius:"50px"}};return p("div",{className:"notch-container",children:[t("div",{className:"phone-camera"}),t(ee.div,{...b,className:"notch-wrapper",onClick:_,"data-size":m,animate:{width:P[m].width,height:P[m].height,borderRadius:P[m].borderRadius??"25px",cursor:P[m].cursor??"pointer"},transition:{type:"spring",stiffness:260,damping:20},children:t("div",{className:"notch",children:t(ee.div,{className:"notch-content","data-expanded":u,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e?t(Xt,{isExpanded:u}):f!=null&&f.running?t(qt,{isExpanded:u}):s!=null&&s.playing?t(jt,{isExpanded:u}):l&&t(Yt,{})})})})]})}const Yt=()=>{var e,a;const i=(a=(e=d(c.Settings))==null?void 0:e.sound)==null?void 0:a.silent;return p("div",{className:"silent-mode","data-red":i,children:[i?t(at,{}):t(ot,{}),i?O("COMPONENTS.DYNAMICISLAND.SILENT"):O("COMPONENTS.DYNAMICISLAND.RING")]})},Xt=({isExpanded:i})=>{var o,m,n,u,g,s;const e=d(c.CallData),a=f=>{f.stopPropagation(),L("Phone",{action:"endCall"}).then(()=>{e.company&&(c.CallData.reset(),c.SoundManager.reset())})},l=f=>{f.stopPropagation(),L("Phone",{action:"answerCall",callId:e.callId}).then(b=>{c.CallData.patch({inCall:!0,connected:!0})})};return e!=null&&e.inCall?i?p("div",{className:"call",children:[p("div",{className:"left",children:[t("img",{src:!e.hideCallerId&&((o=e==null?void 0:e.contact)!=null&&o.avatar)?(m=e==null?void 0:e.contact)==null?void 0:m.avatar:"./assets/img/no-pfp.png"}),p("div",{className:"user",children:[t("div",{className:"elapsed",children:e.connected?de(e.elapsed):e.videoCall?Ee(O("APPS.PHONE.CALL.VIDEO")):O("APPS.PHONE.CALL.MOBILE")}),t("div",{className:"name",children:e.hideCallerId==!0?O("APPS.PHONE.CALL.NO_CALLER_ID"):e.company?e.companylabel:((n=e==null?void 0:e.contact)==null?void 0:n.name)??ce(e.number)})]})]}),t("div",{className:"right",children:t("div",{className:"button red rotate",onClick:a,children:t(ge,{})})})]}):t("div",{className:"call",children:p("div",{className:"left green",children:[t(ge,{}),e.connected?de(e.elapsed):e.videoCall?Ee(O("APPS.PHONE.CALL.VIDEO")):O("APPS.PHONE.CALL.MOBILE")]})}):(e==null?void 0:e.incoming)&&e&&(i?p("div",{className:"call",children:[p("div",{className:"left",children:[t("img",{src:!(e!=null&&e.hideCallerId)&&((u=e==null?void 0:e.contact)!=null&&u.avatar)?(g=e==null?void 0:e.contact)==null?void 0:g.avatar:"./assets/img/no-pfp.png"}),p("div",{className:"user",children:[t("div",{className:"elapsed",children:e.connected?de(e.elapsed):e.videoCall?Ee(O("APPS.PHONE.CALL.VIDEO")):O("APPS.PHONE.CALL.MOBILE")}),t("div",{className:"name",children:e.hideCallerId==!0?O("APPS.PHONE.CALL.NO_CALLER_ID"):e.company?e.companylabel:((s=e==null?void 0:e.contact)==null?void 0:s.name)??ce(e.number)})]})]}),p("div",{className:"right",children:[t("div",{className:"button red rotate",onClick:a,children:t(ge,{})}),t("div",{className:"button green",onClick:l,children:t(ge,{})})]})]}):t("div",{className:"call",children:t("div",{className:"left green",children:t(ge,{})})}))},qt=({isExpanded:i})=>{const e=d(me.Timer);return i?p("div",{className:"timer",children:[t("div",{className:"left",children:t("div",{className:"button black",onClick:()=>me.Timer.reset(),children:t(rt,{})})}),p("div",{className:"right",children:[t("div",{className:"label",children:O("COMPONENTS.DYNAMICISLAND.TIMER")}),t("div",{className:"time",children:de(e.time)})]})]}):p("div",{className:"timer",children:[t("div",{className:"left",children:t(lt,{})}),t("div",{className:"right",children:de(e.time)})]})},jt=({isExpanded:i})=>{var u,g;const e=d(ue),[a,l]=r.useState(!1),[o,m]=r.useState(null),n=r.useRef(null);return r.useEffect(()=>{var k;if(!(e!=null&&e.ref)||!(n!=null&&n.current))return;const s=n.current,f=e.ref.analyser;let b={average:"#c59447",muted:"#a28058",dominant:"#c59447"};const _=5,v=5,h=3,P=i?20:15,V=5,E=10;s.width=i?40:25,s.height=P;let $=0;const B=()=>{let I=new Uint8Array(f.frequencyBinCount);f.getByteFrequencyData(I);let A=s.width-E/2,G=s.height,Y=A/_,w=s.getContext("2d");w.beginPath(),w.clearRect(0,0,s.width,s.height);let q=w.createLinearGradient(0,0,A,0);q.addColorStop(0,b.muted),q.addColorStop(.5,b.dominant),q.addColorStop(1,b.average),w.fillStyle=q;for(let Z=0;Z<_;Z++){let j=I[Z]/255*P;j<h&&(j=h),w.roundRect(Z*Y+E/4,G/2-j/2,Y-v,j,V),w.fill()}$=requestAnimationFrame(B)};return Ct((k=e==null?void 0:e.song)==null?void 0:k.Cover).then(I=>{B(),I&&(b=I)}),()=>{cancelAnimationFrame($)}},[e==null?void 0:e.ref,i]),i?p("div",{className:"music full",children:[p("div",{className:"song",children:[p("div",{className:"song-info",children:[t("img",{src:((u=e==null?void 0:e.song)==null?void 0:u.Cover)??"./assets/img/icons/music/unknown.png"}),p("div",{className:"info",children:[t("div",{className:"name",children:e==null?void 0:e.song.Title}),t("div",{className:"artist",children:e==null?void 0:e.song.Artist})]})]}),t("div",{className:"waveform",children:e.duration&&t("canvas",{ref:n})})]}),p("div",{className:"music-slider",children:[t("div",{className:"duration",children:de(o?(e==null?void 0:e.duration)/100*o:e==null?void 0:e.current)}),t(Te,{type:"range",min:0,max:100,value:o||e.current/e.duration*100,style:{background:`linear-gradient(to right, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.7) ${o||e.current/e.duration*100}%, rgba(255, 255, 255, 0.2) ${o||e.current/e.duration*100}%, rgba(255, 255, 255, 0.2) 100%)`},onMouseDown:s=>{s.stopPropagation(),l(!0)},onMouseUp:s=>{s.stopPropagation(),l(!1),o&&(e.goTo(e.duration/100*o),m(null))},onChange:s=>m(s.target.value)}),t("div",{className:"duration",children:de(e.duration)})]}),p("div",{className:"music-controls",children:[t(Ue,{onClick:s=>{s.stopPropagation(),e!=null&&e.previous&&(e==null||e.previous())}}),t(Be,{className:"pause",onClick:s=>{s.stopPropagation(),ue.patch({playing:!1})}}),t(Ge,{onClick:s=>{s.stopPropagation(),e!=null&&e.next&&(e==null||e.next())}})]})]}):p("div",{className:"music",children:[t("div",{className:"left",children:t("img",{src:((g=e==null?void 0:e.song)==null?void 0:g.Cover)??"./assets/img/icons/music/unknown.png"})}),t("div",{className:"right",children:t("canvas",{ref:n})})]})},de=i=>{if(!i)return"0:00";let e=Math.floor(i/3600),a=Math.floor((i-e*3600)/60),l=Math.floor(i-e*3600-a*60);return e?e+":"+(a<10?"0":"")+a:a+":"+(l<10?"0":"")+l};function Jt({children:i,color:e}){const a=d(ie),l=d(c.Settings),o=m=>{m==="volumeUp"?c.Settings.patch({sound:{...c.Settings.value.sound,volume:De(l.sound.volume+.05>1?1:l.sound.volume+.05,2)??l.sound.volume}}):m==="volumeDown"?c.Settings.patch({sound:{...c.Settings.value.sound,volume:De(l.sound.volume-.05<0?0:l.sound.volume-.05,2)??l.sound.volume}}):m==="silent"&&(c.Settings.patch({sound:{...c.Settings.value.sound,silent:!l.sound.silent}}),L("setSettings",l))};return p("div",{className:"phone-frame",children:[p("div",{className:"frame-buttons",children:[p("div",{className:"left",children:[t("div",{className:"frame-button",onClick:()=>o("silent")}),t("div",{className:"frame-button",onClick:()=>o("volumeUp")}),t("div",{className:"frame-button",onClick:()=>o("volumeDown")})]}),t("div",{className:"right",children:t("div",{className:"frame-button",onClick:()=>{S.Visible.set(!1),L("exitFocus")}})})]}),a.DynamicIsland!==!1?t(re,{children:t(Wt,{})}):t("div",{className:"old-notch",children:t("div",{className:"phone-camera"})}),t("div",{className:"phone-content",children:i})]})}function Kt({color:i}){return t("div",{className:"app-loading",style:{backgroundColor:i},children:t(ct,{size:40,lineWeight:5,speed:2,color:i==="#000000"?"#fff":"#000"})})}function Qt({hide:i}){const e=d(c.Settings),a=r.useRef(!0),l=({className:m})=>e.sound.volume===0?t(ut,{className:m}):e.sound.volume<.3?t(dt,{className:m}):e.sound.volume<.6?t(mt,{}):t(pt,{});r.useEffect(()=>{(a==null?void 0:a.current)!==void 0&&a.current===!0&&(a.current=!1,setTimeout(()=>i(),2e3))},[a==null?void 0:a.current]);const o=r.useRef(!0);return r.useEffect(()=>{if(o.current){o.current=!1;return}a.current=!0},[e.sound.volume]),r.useEffect(()=>{if(!o.current)return()=>{L("setSettings",e)}},[]),t(ee.div,{className:"volume-master-wrapper",initial:{opacity:0,x:-50,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-50,scale:.8},transition:{duration:.3},children:p("div",{className:"volume-master",children:[t(Te,{type:"range",min:0,max:1,step:.05,defaultValue:isNaN(e.sound.volume)?.5:e.sound.volume,onMouseDown:()=>a.current=!1,onMouseUp:()=>a.current=!0,onChange:m=>{c.Settings.patch({sound:{...c.Settings.value.sound,volume:parseFloat(m.target.value)}})},style:{background:`linear-gradient(to right, #ffffff 0%, #ffffff ${e.sound.volume*100}%, rgba(0, 0, 0, 0.6) ${e.sound.volume*100}%, rgba(0, 0, 0, 0.6) 100%)`}}),t(l,{className:e.sound.volume<.15&&"white"})]})})}const fe=r.createContext(null);r.createContext(null);function dn(){var w,q,Z,j,y,M;const{Data:i}=r.useContext(ft),e=d(c.Settings),a=d(c.PhoneNumber),l=d(c.Setup.IsSetup),[o,m]=r.useState(null),n=d(c.App),[u,g]=r.useState(0),s=d(c.Battery),f=d(c.CallData),[b,_]=i.NotificationData,v=d(S.Visible),h=d(S.Unlocked),P=d(S.LockScreenVisible),V=d(S.ShouldClose),E=d(S.Screenshot.Taking),[$,B]=r.useState(!1),k=d(H.ControlCentreVisible),I=d(H.FullscreenImage),A=d(ie);r.useEffect(()=>{!l||!V||(v?S.ShowPin.set(!1):setTimeout(()=>{S.ShowPin.set(!1),S.Unlocked.set(!1),S.PassedFaceId.set(!1)},500),g(0),S.ReceiveAppNotifications.set(!0),H.IndicatorVisible.set(!0),H.FullscreenImage.set({display:!1}),L("toggleFlashlight",{toggled:!1}))},[v,a]),r.useEffect(()=>{S.LockScreenVisible.set(!h)},[h]),r.useEffect(()=>{var N,C,T,R,F,X,W;(N=A==null?void 0:A.apps)!=null&&N[n==null?void 0:n.name]&&((T=(C=A==null?void 0:A.apps)==null?void 0:C[n==null?void 0:n.name])!=null&&T.custom)&&(L("CustomApp",n==null?void 0:n.name),A.apps[n==null?void 0:n.name].ui||c.App.reset()),(!n||(F=(R=A==null?void 0:A.apps)==null?void 0:R[n==null?void 0:n.name])!=null&&F.custom&&!((W=(X=A==null?void 0:A.apps)==null?void 0:X[n==null?void 0:n.name])!=null&&W.ui))&&S.ReceiveAppNotifications.set(!0)},[n]),r.useEffect(()=>{var N,C,T,R;(N=A==null?void 0:A.apps)!=null&&N[n==null?void 0:n.name]&&((C=A==null?void 0:A.apps)!=null&&C[n==null?void 0:n.name].custom)&&!((R=(T=A==null?void 0:A.apps)==null?void 0:T[n==null?void 0:n.name])!=null&&R.ui)||(f&&!f.banner||k?H.IndicatorVisible.set(!0):!n&&!P?H.IndicatorVisible.set(!1):H.IndicatorVisible.set(!0))},[n,f,h,P,k]),r.useEffect(()=>{var N;if(!l)return m("#000000");if(!n||P)return m("#ffffff");if(Ve.Dark.includes(n.name))return m("#000000");if(Ve.Light.includes(n.name))return m("#ffffff");m(((N=e==null?void 0:e.display)==null?void 0:N.theme)==="dark"?"#ffffff":"#000000")},[n,f,h,P,(w=e==null?void 0:e.display)==null?void 0:w.theme,l]);const G=ht(a),Y=r.useRef(!0);return r.useEffect(()=>{if(Y.current){Y.current=!1;return}G===a&&B(!0)},[(q=e==null?void 0:e.sound)==null?void 0:q.volume]),r.useEffect(()=>{E&&setTimeout(()=>S.Screenshot.Taking.set(!1),250)},[E]),p(ne,{children:[(I==null?void 0:I.display)&&t(Pt,{}),t("div",{className:"container","data-theme":(Z=e==null?void 0:e.display)==null?void 0:Z.theme,children:p("div",{className:"full-phone",style:{transform:`scale(${Se((j=e==null?void 0:e.display)==null?void 0:j.size)}) rotate(-${u}deg)`,marginBottom:`${u?`${30*Se((y=e==null?void 0:e.display)==null?void 0:y.size)}rem`:"1rem"}`},children:[t(re,{initial:!1,mode:"wait",children:t("div",{className:"notification-container",children:b&&t(kt,{data:b,Func:{remove:()=>_(null)}})})}),t("div",{className:"brightness",style:{opacity:1-e.display.brightness}}),t(fe.Provider,{value:{Func:{TextColor:[o,m]},Placement:{PhoneRotation:[u,g]}},children:t(Jt,{children:p("div",{className:"phone-container",children:[t(en,{}),t(Zt,{}),t(re,{children:$&&!H.ControlCentreVisible.value&&t(Qt,{hide:()=>B(!1)})}),t(re,{initial:!1,mode:"wait",children:(M=A==null?void 0:A.Battery)!=null&&M.Enabled&&s.battery===0?t(ee.div,{className:"no-battery",style:{background:s.charging?"#ffffff":"#000000"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:2},children:s.charging?t("img",{src:"https://cdn.discordapp.com/attachments/1032954560844660756/1045401080579764384/logo.png"}):t(Ye,{battery:s,dead:!0})}):p(ne,{children:[t(Mt,{}),t(tn,{}),t(wt,{cb:()=>{Ot({setPhoneRotation:g})}})]})})]})})})]})})]})}const Zt=()=>p(ne,{children:[t(gt,{}),t(vt,{}),t(Nt,{}),t(Gt,{}),t(Bt,{})]}),en=()=>{const i=d(S.Screenshot.Taking),e=d(S.Screenshot.Data);return p(ne,{children:[i&&t("div",{className:"white-screen"}),t(re,{initial:!1,mode:"wait",children:e&&t(ee.div,{className:"screenshot-container",initial:{opacity:0,x:"75%",y:"-75%",scale:3,zIndex:999},animate:{opacity:1,x:0,y:0,scale:1,zIndex:999},exit:{opacity:0,x:0,y:0},transition:{duration:.5,ease:"easeOut"},drag:"x",dragConstraints:{left:0,right:0},dragElastic:{right:0,left:.9},dragMomentum:!1,children:t("img",{className:"screenshot",src:e,onLoad:()=>setTimeout(()=>S.Screenshot.Data.reset(),4e3)})})})]})},tn=()=>{var f,b,_,v,h,P,V,E,$,B;const{Func:i}=r.useContext(fe),[e]=i.TextColor,a=d(c.Settings),l=d(c.Setup.IsSetup),o=d(c.App),m=d(S.LockScreenVisible),n=r.useRef(null),u=d(ie),g={hidden:{scale:0,transformOrigin:o!=null&&o.from?`${((f=o==null?void 0:o.from)==null?void 0:f.x)??0}px ${((b=o==null?void 0:o.from)==null?void 0:b.y)??0}px`:"50% 50%",transition:{duration:o!=null&&o.from?.3:0,ease:"easeOut"}},visible:{scale:1,transformOrigin:o!=null&&o.from?`${((_=o==null?void 0:o.from)==null?void 0:_.x)??0}px ${((v=o==null?void 0:o.from)==null?void 0:v.y)??0}px`:"50% 50%",transition:{duration:o!=null&&o.from?.3:0,ease:"easeOut"}},exit:{scale:0,transformOrigin:o!=null&&o.from?`${((h=o==null?void 0:o.from)==null?void 0:h.x)??0}px ${((P=o==null?void 0:o.from)==null?void 0:P.y)??0}px`:"50% 50%",transition:{duration:.3,ease:"easeOut"}}};K("customApp:sendMessage",k=>{var I;!(n!=null&&n.current)||!o||o.name!==k.identifier&&((I=k==null?void 0:k.message)==null?void 0:I.type)!=="settingsUpdated"||(n.current.contentWindow.postMessage(k.message,"*"),x("info",`Received message from custom app ${JSON.stringify(k)}`))});let s=Ie==null?void 0:Ie[o==null?void 0:o.name];return t(ne,{children:p("div",{className:"phone-wrapper",children:[l&&!m&&t(Xe,{}),t(re,{children:m&&l&&t(Ft,{})}),t(re,{initial:!1,mode:"wait",children:o&&t(ee.div,{className:"app-container",variants:g,initial:"hidden",animate:"visible",exit:"exit",style:{backgroundColor:(E=(V=u==null?void 0:u.apps)==null?void 0:V[o.name])!=null&&E.ui?a.display.theme==="dark"?"#000000":"#ffffff":null},children:(B=($=u==null?void 0:u.apps)==null?void 0:$[o.name])!=null&&B.ui?t("iframe",{src:u.apps[o==null?void 0:o.name].ui.includes("http")?u.apps[o.name].ui:`https://cfx-nui-${u.apps[o.name].ui}`,ref:n,onLoad:k=>{var Y,w;const I=k.target;if((Y=I==null?void 0:I.contentDocument)!=null&&Y.documentElement&&(I.contentDocument.documentElement.style.height="100%",I.contentDocument.documentElement.style.width="100%",I.contentDocument.documentElement.style.padding="0",I.contentDocument.documentElement.style.margin="0"),!((w=I==null?void 0:I.contentDocument)!=null&&w.body))return;I.contentDocument.body.style.visibility="visible",I.contentDocument.body.style.height="100%",I.contentDocument.body.style.width="100%",I.contentDocument.body.style.padding="0",I.contentDocument.body.style.margin="0";const A=u.apps[o.name].resourceName;if(A){const q=document.createElement("script");q.innerHTML=`
                                                window.resourceName = '${A}';
                                                window.appName = '${o.name}';
                                            `,I.contentDocument.body.appendChild(q)}const G=document.createElement("script");G.src="https://cfx-nui-lb-phone/ui/components.js",I.contentDocument.body.appendChild(G)}}):s&&t(r.Suspense,{fallback:t(Kt,{color:e==="#ffffff"?"#000000":"#ffffff"}),children:r.isValidElement(t(s,{}))&&t(s,{})})})})]})})};export{dn as P,fe as S};
